<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚ãªãŸã®éš ã‚ŒãŸé­…åŠ›ã¯ãªã‚“ã ï¼ï¼Ÿ ï½ãƒªãƒ«ãƒªãƒ«ã¨ä»²é–“ãŸã¡ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨ºæ–­ï½</title>
    
    <!-- Google Fonts: æ‰‹æ›¸ãé¢¨ã§å¯æ„›ã„ã€ŒZen Maru Gothicã€ã‚’ä½¿ç”¨ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            /* ãƒ‘ã‚¹ãƒ†ãƒ«ã‚«ãƒ©ãƒ¼å®šç¾© */
            --color-lillilu: #ffb3ba; /* ãƒ‘ã‚¹ãƒ†ãƒ«èµ¤ */
            --color-rosy: #ffdfba;    /* ãƒ‘ã‚¹ãƒ†ãƒ«ãƒ”ãƒ³ã‚¯ï¼ˆå°‘ã—ã‚ªãƒ¬ãƒ³ã‚¸å¯„ã‚Šã«ã—ã¦åŒºåˆ¥ï¼‰ã‚ã‚‹ã„ã¯è–„ãƒ”ãƒ³ã‚¯ */
            --color-rosy-real: #ffccdd; /* ã‚ˆã‚Šãƒ”ãƒ³ã‚¯ã‚‰ã—ã */
            --color-finn: #baffc9;    /* ãƒ‘ã‚¹ãƒ†ãƒ«ã‚°ãƒªãƒ¼ãƒ³ */
            --color-bonbon: #ffdfba;  /* ãƒ‘ã‚¹ãƒ†ãƒ«ã‚ªãƒ¬ãƒ³ã‚¸ */
            --color-espie: #bae1ff;   /* ãƒ‘ã‚¹ãƒ†ãƒ«ã‚¹ã‚«ã‚¤ãƒ–ãƒ«ãƒ¼ */
            --color-levy: #e2baff;    /* ãƒ‘ã‚¹ãƒ†ãƒ«ãƒ‘ãƒ¼ãƒ—ãƒ« */
            --color-gigi: #ffffba;    /* ãƒ‘ã‚¹ãƒ†ãƒ«ã‚¤ã‚¨ãƒ­ãƒ¼ï¼ˆæŒ‡å®šãŒãªã„ãŸã‚è¿½åŠ ï¼‰ */
            
            --text-main: #5a5a5a;     /* çœŸã£é»’ã‚’ä½¿ã‚ãšã€æ¿ƒã„ã‚°ãƒ¬ãƒ¼ */
            --text-sub: #7a7a7a;
            --bg-dot: #f0f8ff;
        }

        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            color: var(--text-main);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            /* æ‰‹æ›¸ãé¢¨æ°´ç‰èƒŒæ™¯ï¼ˆCSSã§å†ç¾ï¼‰ */
            background-color: #fffbf0;
            background-image: 
                radial-gradient(circle, #ffe4e1 15%, transparent 16%),
                radial-gradient(circle, #e0ffff 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
            overflow-x: hidden;
        }

        .container {
            width: 90%;
            max-width: 600px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 40px 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            text-align: center;
            position: relative;
            min-height: 500px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h1 {
            font-size: 1.5rem;
            color: #ff8fab;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        h2 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--text-main);
        }

        /* ç”»åƒãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ */
        .img-placeholder {
            width: 100%;
            max-width: 300px;
            aspect-ratio: 1 / 1; /* æ­£æ–¹å½¢ */
            background-color: #f0f0f0;
            border: 2px dashed #ccc;
            border-radius: 15px;
            margin: 0 auto 20px auto;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            color: #aaa;
        }
        
        .img-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* ãƒœã‚¿ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .btn {
            display: block;
            width: 100%;
            max-width: 400px;
            margin: 15px auto;
            padding: 15px;
            border: 2px solid #ffd1dc;
            background-color: #fff;
            color: var(--text-main);
            border-radius: 30px;
            font-size: 1rem;
            font-family: 'Zen Maru Gothic', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 0 #ffd1dc;
        }

        .btn:hover {
            background-color: #fff0f5;
            transform: translateY(2px);
            box-shadow: 0 2px 0 #ffd1dc;
        }

        .btn:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        /* ç”»é¢åˆ‡ã‚Šæ›¿ãˆç”¨ */
        .screen {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* çµæœç”»é¢ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .result-header {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 10px 0;
            color: var(--text-main);
        }
        
        .result-type {
            font-size: 1.1rem;
            color: #ff8fab;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .result-charm {
            background-color: #fdf5e6;
            padding: 15px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px dotted #ffcc99;
        }

        .result-charm h3 {
            font-size: 1rem;
            color: #ff9966;
            margin-top: 0;
        }

        .advice-box {
            text-align: left;
            margin: 20px 0;
            line-height: 1.8;
            font-size: 0.95rem;
        }

        .nice-points {
            list-style: none;
            padding: 0;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .nice-points li {
            background: #e6e6fa;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #6a5acd;
        }

        /* å††ã‚°ãƒ©ãƒ• */
        .chart-container {
            width: 200px;
            height: 200px;
            margin: 30px auto;
            position: relative;
            border-radius: 50%;
            /* conic-gradientã¯JSã§å‹•çš„ã«è¨­å®šã—ã¾ã™ */
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
        }
        
        .chart-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60%;
            height: 60%;
            background: rgba(255,255,255,0.9);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.8rem;
            color: var(--text-sub);
        }

        /* ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ç¾¤ */
        .share-area {
            margin-top: 30px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .share-btn {
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
            font-size: 0.9rem;
        }
        .share-line { background-color: #06c755; }
        .share-insta { background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); }
        .share-threads { background-color: #000; } /* Threadsã¯é»’ */

        /* åˆ†æä¸­ç”»é¢ */
        .loading-text {
            font-size: 1.5rem;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

    </style>
</head>
<body>

    <div class="container">
        
        <!-- ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ -->
        <div id="start-screen" class="screen active">
            <h1>ã‚ãªãŸã®éš ã‚ŒãŸé­…åŠ›ã¯ãªã‚“ã ï¼ï¼Ÿ<br>ï½ãƒªãƒ«ãƒªãƒ«ã¨ä»²é–“ãŸã¡ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨ºæ–­ï½</h1>
            <div class="img-placeholder">
                <img src="top_image.png" alt="ãƒˆãƒƒãƒ—ç”»åƒ" onerror="this.style.display='none'; this.parentElement.innerText='ç”»åƒã‚¨ãƒªã‚¢(æ­£æ–¹å½¢)'">
            </div>
            <p>12ã®è³ªå•ã‹ã‚‰ã€ã‚ãªãŸã«ã´ã£ãŸã‚Šã®7å•ã‚’å³é¸ï¼<br>è¶…ãƒ»é«˜ç²¾åº¦ãƒ«ãƒ¼ãƒˆåˆ†å²ã‚·ã‚¹ãƒ†ãƒ ã§è¨ºæ–­ã—ã¾ã™ã€‚</p>
            <button class="btn" onclick="startQuiz()">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
        </div>

        <!-- è³ªå•ç”»é¢ -->
        <div id="quiz-screen" class="screen">
            <div class="img-placeholder">
                <!-- ã“ã“ã«è³ªå•ã”ã¨ã®ç”»åƒã‚’æŒ¿å…¥å¯èƒ½ -->
                <img id="question-image" src="" alt="è³ªå•ç”»åƒ" onerror="this.style.display='none'; this.parentElement.innerText='ç”»åƒã‚¨ãƒªã‚¢(æ­£æ–¹å½¢/4:5)'">
            </div>
            <h2 id="question-text">è³ªå•æ–‡ãŒã“ã“ã«å…¥ã‚Šã¾ã™</h2>
            <div id="answers-area">
                <!-- ãƒœã‚¿ãƒ³ãŒJSã§ç”Ÿæˆã•ã‚Œã¾ã™ -->
            </div>
            <p style="margin-top:20px; font-size:0.8rem; color:#aaa;">Q. <span id="current-q-num">1</span> / 7</p>
        </div>

        <!-- åˆ†æä¸­ç”»é¢ -->
        <div id="loading-screen" class="screen">
            <div class="loading-text">åˆ†æä¸­...</div>
            <p>ã‚ãªãŸã®å¿ƒã®å½¢ã‚’è¨ˆç®—ã—ã¦ã„ã¾ã™</p>
        </div>

        <!-- çµæœç”»é¢ -->
        <div id="result-screen" class="screen">
            <div class="img-placeholder">
                <img id="result-image" src="" alt="ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒ" onerror="this.style.display='none'; this.parentElement.innerText='ã‚­ãƒ£ãƒ©ç”»åƒã‚¨ãƒªã‚¢(æ­£æ–¹å½¢)'">
            </div>
            
            <div class="result-type" id="result-catchphrase">ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼</div>
            <div class="result-header" id="result-name">Name</div>
            
            <div class="result-charm">
                <h3>[ éš ã‚ŒãŸé­…åŠ› ]</h3>
                <div id="result-charm-text">é­…åŠ›ãƒ†ã‚­ã‚¹ãƒˆ</div>
                <p id="result-desc" style="margin-top:10px; font-size:0.9rem;">èª¬æ˜æ–‡</p>
            </div>

            <div class="advice-box">
                <strong>ã€ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã€‘</strong><br>
                <span id="result-advice">ã‚¢ãƒ‰ãƒã‚¤ã‚¹æœ¬æ–‡</span>
            </div>

            <div style="text-align: left;">
                <strong>ã€ã‚¹ãƒ†ã‚­ãªã¨ã“ã‚ã€‘</strong>
                <ul class="nice-points" id="result-points">
                    <li>AAA</li>
                    <li>BBB</li>
                    <li>CCC</li>
                </ul>
            </div>

            <div class="chart-container" id="chart-pie">
                <div class="chart-center">ã‚ãªãŸã®<br>ã‚«ãƒ©ãƒ¼</div>
            </div>

            <button class="btn" onclick="location.reload()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
            
            <div class="share-area">
                <a href="#" id="share-line" class="share-btn share-line" target="_blank">LINE</a>
                <a href="#" id="share-threads" class="share-btn share-threads" target="_blank">Threads</a>
                <a href="#" id="share-insta" class="share-btn share-insta" target="_blank">Instagram</a>
            </div>
        </div>

    </div>

    <script>
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿å®šç¾©
        const characters = {
            lillilu: {
                id: 'lillilu',
                name: 'LilLiluï¼ˆãƒªãƒ«ãƒªãƒ«ï¼‰',
                color: '#ffb3ba', // ãƒ‘ã‚¹ãƒ†ãƒ«èµ¤
                catchphrase: 'ğŸ¤¡ é›¨ä¸ŠãŒã‚Šã®å¤ªé™½ã‚¿ã‚¤ãƒ—',
                charm: 'ç„¡é‚ªæ°—ãªæ„›ã•ã‚ŒåŠ›',
                desc: 'ã‚ãªãŸã¯ãã“ã«ã„ã‚‹ã ã‘ã§å‘¨ã‚Šã‚’æ˜ã‚‹ãã™ã‚‹å¤ªé™½ã®ã‚ˆã†ãªå­˜åœ¨ï¼ã¡ã‚‡ã£ã¨ã—ãŸãƒ¦ãƒ¼ãƒ¢ã‚¢ã§ã€ã¿ã‚“ãªã®å¿ƒã‚’ãƒ•ãƒ¯ãƒƒã¨è»½ãã—ã¦ã„ã‚‹ã‚ˆã€‚',
                advice: 'ã¾ã‚ã‚Šã®äººãŒãƒ›ãƒƒã‚³ãƒªã¨ã™ã‚‹ã‚ˆã†ãªé›°å›²æ°—ã‚’ã‚‚ã£ã¦ã„ã‚‹ã¿ãŸã„ã€‚å„ªã—ã„å­å¿ƒã§è‡ªåˆ†ã®æ°—æŒã¡ã‚ˆã‚Šã‚‚ã€ã¤ã„ç›¸æ‰‹ã®æ°—æŒã¡ã‚’å„ªå…ˆã—ãŒã¡ã€‚ã™ã“ã—ç–²ã‚ŒãŸæ—¥ã¯ã€èª°ã‹ã®ãŸã‚ã ã‘ã˜ã‚ƒãªãã¦ã€è‡ªåˆ†ã®ãŸã‚ã«ã‚‚ã€Œã‚„ã•ã—ãã—ã¦ã‚ã’ã‚‹æ™‚é–“ã€ã‚’ã¤ãã£ã¦ã‚ã’ã¦ã­ã€‚',
                points: ['æ„›å¬Œ', 'è¦ªã—ã¿ã‚„ã™ã„', 'æœ—ã‚‰ã‹']
            },
            rosy: {
                id: 'rosy',
                name: 'Rosyï¼ˆãƒ­ãƒ¼ã‚¸ãƒ¼ï¼‰',
                color: '#ffccdd', // ãƒ‘ã‚¹ãƒ†ãƒ«ãƒ”ãƒ³ã‚¯
                catchphrase: 'ğŸ° æ˜¥ã®ãã‚ˆé¢¨ã‚¿ã‚¤ãƒ—',
                charm: 'å¤©çœŸçˆ›æ¼«ãªãƒãƒƒãƒ”ãƒ¼ã‚ªãƒ¼ãƒ©',
                desc: 'å–œã³ã‚’ã‚·ã‚§ã‚¢ã™ã‚‹å¤©æ‰ï¼ç´ æ•µãªã‚‚ã®ã‚’è¦‹ã¤ã‘ãŸã‚‰ä¸€ç•ªã«èª°ã‹ã«ä¼ãˆã‚‹ãã®ç´”ç²‹ã•ãŒã€ã¿ã‚“ãªã®æ—¥å¸¸ã‚’ã‚«ãƒ©ãƒ•ãƒ«ã«ã—ã¦ã„ã‚‹ã‚ˆã€‚',
                advice: 'å­£ç¯€ã®å¤‰åŒ–ã‚„ã€èº«è¿‘ãªâ€œã¨ãã‚ãâ€ã‚’è¦‹ã¤ã‘ã‚‹ã®ãŒä¸Šæ‰‹ãªã‚ãªãŸã€‚ã†ã‚Œã—ã‹ã£ãŸã“ã¨ã‚’èª°ã‹ã¨ã‚·ã‚§ã‚¢ã—ãŸããªã‚‹ã®ã‚‚ãƒ­ãƒ¼ã‚¸ãƒ¼ã£ã½ã„ã¨ã“ã‚ã€‚ã²ã¨ã‚Šã§æŠ±ãˆè¾¼ã¾ãšã«ã€ã†ã‚Œã—ã‹ã£ãŸã“ã¨ã‚‚ã€ã¡ã‚‡ã£ã´ã‚Šã•ã¿ã—ã‹ã£ãŸã“ã¨ã‚‚ã€ä¿¡é ¼ã§ãã‚‹äººã«ãŠã™ãåˆ†ã‘ã—ã¦ã¿ã‚‹ã¨ã€ã‚‚ã£ã¨å¿ƒãŒè»½ããªã‚Šãã†ã€‚',
                points: ['æ„Ÿæ€§è±Šã‹', 'å¤©çœŸçˆ›æ¼«', 'å¤©ç„¶']
            },
            finn: {
                id: 'finn',
                name: 'Finnï¼ˆãƒ•ã‚£ãƒ³ï¼‰',
                color: '#baffc9', // ãƒ‘ã‚¹ãƒ†ãƒ«ã‚°ãƒªãƒ¼ãƒ³
                catchphrase: 'ğŸ¸ å¤ã®æ³¢ã—ã¶ãã‚¿ã‚¤ãƒ—',
                charm: 'ã¯ã˜ã‘ã‚‹é–‹æ”¾æ„Ÿ',
                desc: 'ã‚ãªãŸã¯å¿ƒã®å£ã‚’å–ã‚Šæ‰•ã†å¤©æ‰ï¼ã€Œã‚ˆã†ã“ãï¼ã€ã¨ã„ã†ã‚ãªãŸã®æ˜ã‚‹ã„ä¸€è¨€ãŒã€ã¿ã‚“ãªã®å¿ƒã®ãƒ‰ã‚¢ã‚’é–‹ã‘ã¦ã„ã‚‹ã‚ˆã€‚',
                advice: 'æœ¬å½“ã¯ã¡ã‚‡ã£ã´ã‚Šãƒ‰ã‚­ãƒ‰ã‚­ã—ã‚„ã™ã„ã®ã«ã€ã„ã–ã¨ã„ã†ã¨ãã¯ç¬‘é¡”ã§å ´ã‚’ã¤ãªã’ã‚‹ãƒ•ã‚£ãƒ³æ°—è³ªã®ã‚ãªãŸã€‚ã†ã¾ãè©±ãã†ã¨ã—ãªãã¦ã‚‚å¤§ä¸ˆå¤«ã€‚ã€Œãã„ã¦ã¿ãŸã„ã€ã¨æ€ã£ãŸã“ã¨ã‚’ç´ ç›´ã«ãã„ã¦ã¿ã‚‹ã ã‘ã§ã€ååˆ†ã«ã‚¹ãƒ†ã‚­ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãªã£ã¦ã„ã‚‹ã‚ˆã€‚',
                points: ['ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼', 'å¥½å¥‡å¿ƒ', 'å†’é™ºå®¶']
            },
            bonbon: {
                id: 'bonbon',
                name: 'Bonbonï¼ˆãƒœãƒ³ãƒœãƒ³ï¼‰',
                color: '#ffdfba', // ãƒ‘ã‚¹ãƒ†ãƒ«ã‚ªãƒ¬ãƒ³ã‚¸
                catchphrase: 'ğŸ» ç§‹ã®å¤•ç„¼ã‘ã‚¿ã‚¤ãƒ—',
                charm: 'ã²ãŸã‚€ããªä¿¡é ¼æ„Ÿ',
                desc: 'ã‚ãªãŸã¯è¨€è‘‰ã‚ˆã‚Šè¡Œå‹•ã§ç¤ºã™äººã€‚ã‚³ãƒ„ã‚³ãƒ„é ‘å¼µã‚‹ãã®èƒŒä¸­ã«ã€ã¿ã‚“ãªã¯ã€Œè‡ªåˆ†ã‚‚é ‘å¼µã‚ã†ï¼ã€ã¨å‹‡æ°—ã‚’ã‚‚ã‚‰ã£ã¦ã„ã‚‹ã‚ˆã€‚',
                advice: 'è‡ªåˆ†ãªã‚Šã®ãƒšãƒ¼ã‚¹ã§ã€ç›®ã®å‰ã®ã“ã¨ã«ä¸€ç”Ÿæ‡¸å‘½ã«ãªã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã€‚çµæœã‚ˆã‚Šã‚‚ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã ã„ã˜ã«ã§ãã‚‹ã®ãŒã‚ãªãŸã‚‰ã—ã•ã€‚ã¨ãã©ãç«‹ã¡æ­¢ã¾ã£ã¦ã€ã€ã“ã“ã¾ã§æ¥ãŸè‡ªåˆ†ã€ã‚ˆãã‚„ã£ã¦ã‚‹ï¼ã€ã¨ã€ã¡ã„ã•ãªã‚¬ãƒƒãƒ„ãƒãƒ¼ã‚ºã‚’ã—ã¦ã‚ã’ã¦ã­ã€‚',
                points: ['åŠªåŠ›å®¶', 'èª å®Ÿ', 'ãƒã‚¤ãƒšãƒ¼ã‚¹']
            },
            espie: {
                id: 'espie',
                name: 'Espieï¼ˆã‚¨ã‚¹ãƒ”ãƒ¼ï¼‰',
                color: '#bae1ff', // ãƒ‘ã‚¹ãƒ†ãƒ«ã‚¹ã‚«ã‚¤ãƒ–ãƒ«ãƒ¼
                catchphrase: 'ğŸ˜ å†¬ã®æ¯›å¸ƒã‚¿ã‚¤ãƒ—',
                charm: 'æ·±ãã¦æ¸©ã‹ã„åŒ…å®¹åŠ›',
                desc: 'è¨€è‘‰ã«ãªã‚‰ãªã„å£°ã‚’èãã‚„ã•ã—ã•ã®æŒã¡ä¸»ã€‚ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚ˆã‚Šã€ãŸã é™ã‹ã«å¯„ã‚Šæ·»ã£ã¦ãã‚Œã‚‹ãã®æ¸©ã‚‚ã‚Šã«ã€å¤šãã®äººãŒæ•‘ã‚ã‚Œã¦ã„ã‚‹ã‚ˆã€‚',
                advice: 'ã‚ãªãŸã¯ã€å›°ã£ã¦ã„ã‚‹äººã‚„ä¸å®‰ãã†ãªäººã‚’è¦‹ã¤ã‘ã‚‹ã¨ã€ãã£ã¨å¯„ã‚Šæ·»ã„ãŸããªã‚‹ã‚¨ã‚¹ãƒ”ãƒ¼æ°—è³ªã€‚æ”¯ãˆã‚‹å´ã«å›ã‚‹ã“ã¨ãŒå¤šã„ã‹ã‚‰ã“ãã€è‡ªåˆ†ã®ä¸å®‰ã‚„ç–²ã‚Œã‚’å¾Œå›ã—ã«ã—ã¦ã—ã¾ã†ä¸€é¢ã‚‚ã€‚ä¼‘ã¿ã®æ—¥ã¯ã€æ¯›å¸ƒã‚’ã‹ã¶ã£ã¦ã€ã‚†ã£ãã‚Šä¼‘ã‚“ã§ã­ã€‚',
                points: ['åŒ…å®¹åŠ›', 'å…±æ„ŸåŠ›', 'ã‚ã£ãŸã‹ã„']
            },
            gigi: {
                id: 'gigi',
                name: 'Gigiï¼ˆã‚¸ã‚¸ï¼‰',
                color: '#ffffba', // ãƒ‘ã‚¹ãƒ†ãƒ«ã‚¤ã‚¨ãƒ­ãƒ¼ (çµæœè‰²ç”¨)
                catchphrase: 'ğŸ¦’ å¤œæ˜ã‘ã®æœæ—¥ã‚¿ã‚¤ãƒ—',
                charm: 'ãŠã ã‚„ã‹ãªè¦‹å®ˆã‚ŠåŠ›',
                desc: 'ä¸€æ­©å¼•ã„ã¦å…¨ä½“ã‚’è¦‹ã‚‹å®‰å¿ƒæ„Ÿã®æŒã¡ä¸»ã€‚ã¿ã‚“ãªãŒæ°—ã¥ã‹ãªã„å°ã•ãªå¤‰åŒ–ã«ã‚‚æ°—ã¥ãè³¢ã•ã¨å„ªã—ã•ã«æ”¯ãˆã‚‰ã‚Œã¦ã„ã‚‹äººãŒã„ã‚‹ã‚ˆã€‚',
                advice: 'ã‚ãªãŸã¯ã€æ„Ÿæƒ…ã«æµã•ã‚Œéããšã€å°‘ã—é«˜ã„ã¨ã“ã‚ã‹ã‚‰å…¨ä½“ã‚’è¦‹å®ˆã‚‹ã‚ˆã†ãªè¦–ç‚¹ã‚’æŒã£ã¦ã„ã‚‹äººã€‚ã ã‹ã‚‰ã“ãã€ã€è‡ªåˆ†ã®æ°—æŒã¡ã€ã‚’å¾Œå›ã—ã«ã—ãŒã¡ãªä¸€é¢ã‚‚ã€‚ã¨ãã©ãã¯ã€è‡ªåˆ†ã®æœ¬éŸ³ã‚’åãå‡ºã™æ™‚é–“ã‚’ä½œã£ã¦ã¿ã¦ã­ã€‚ã‚¸ã‚¸ã¿ãŸã„ã«ã€ã‚¹ãƒˆãƒ¬ã‚¹ç™ºæ•£ã«ã€ã‚¸ã‚§ãƒƒãƒˆã‚³ãƒ¼ã‚¹ã‚¿ãƒ¼ã«ä¹—ã‚‹ã®ã‚‚ã²ã¨ã¤ã®æ‰‹ã€‚',
                points: ['ä¿¯ç°', 'å†·é™ã•', 'è¦‹å®ˆã‚Š']
            },
            levy: {
                id: 'levy',
                name: 'Levyï¼ˆãƒ¬ãƒ´ã‚£ï¼‰',
                color: '#e2baff', // ãƒ‘ã‚¹ãƒ†ãƒ«ãƒ‘ãƒ¼ãƒ—ãƒ«
                catchphrase: 'ğŸ¦„ å¤œç©ºã®æ˜Ÿã‚¿ã‚¤ãƒ—',
                charm: 'é™ã‹ãªã‚‹ç™’ã‚„ã—ã®å…‰',
                desc: 'æš—é—‡ã§ã“ãè¼ãå¸Œæœ›ã®æ˜Ÿã€‚è½ã¡è¾¼ã‚“ã§ã„ã‚‹æ™‚ã«ã‚ãªãŸãŒã‹ã‘ã¦ãã‚Œã‚‹å„ªã—ã„è¨€è‘‰ã¯ã€è¿·ã£ã¦ã„ã‚‹äººã®é“ã—ã‚‹ã¹ã«ãªã£ã¦ã„ã‚‹ã‚ˆã€‚',
                advice: 'ã«ãã‚„ã‹ãªå ´ã‚ˆã‚Šã‚‚ã€å°‘äººæ•°ã‚„è½ã¡ç€ã„ãŸæ™‚é–“ã®ãªã‹ã§ã€è‡ªåˆ†ã‚‰ã—ã•ãŒå…‰ã‚‹ã‚¿ã‚¤ãƒ—ã€‚ã˜ã£ãã‚Šè€ƒãˆãŸã‚Šã€ã²ã¨ã‚Šã®ä¸–ç•Œã«ã²ãŸã‚‹æ™‚é–“ã‚‚å¤§åˆ‡ãªæ „é¤Šã€‚ã€ä»Šæ—¥ã¯ã©ã‚“ãªå°ã•ãªå…‰ãŒã‚ã£ãŸã‹ãªï¼Ÿã€ã¨ã€å¯ã‚‹å‰ã«ã²ã¨ã¤ã ã‘æ€ã„å‡ºã—ã¦ã¿ã‚‹ã¨ã€ãƒ¬ãƒ´ã‚£ã‚‰ã—ã„ç©ã‚„ã‹ãªæ™‚é–“ãŒè‚²ã£ã¦ã„ããã†ã€‚',
                points: ['ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹', 'é™ã‹ãªæƒ…ç†±', 'ç›´æ„Ÿ']
            }
        };

        // å…¨12å•ã®è³ªå•ãƒ‡ãƒ¼ã‚¿ (A, B, C ã®é¸æŠè‚¢ã«å¯¾å¿œã™ã‚‹ã‚­ãƒ£ãƒ©IDã‚’è¨­å®š)
        const questionPool = [
            {
                q: "å‹ã ã¡ãŒè½ã¡è¾¼ã‚“ã§ã„ãŸã‚‰ï¼Ÿ",
                options: [
                    { text: "ãã£ã¨å¯„ã‚Šæ·»ã£ã¦ã€ã‚†ã£ãã‚Šè©±ã‚’èã", type: "espie" },
                    { text: "æ°—åˆ†è»¢æ›ã«èª˜ã£ã¦ã€ä¸€ç·’ã«æ¥½ã—ã‚€", type: "rosy" },
                    { text: "ã„ã„ã¨ã“ã‚ã‚’ä¼ãˆã¦ã€åŠ±ã¾ã™", type: "bonbon" }
                ]
            },
            {
                q: "å¤§åˆ‡ãªäººã®æˆåŠŸã‚’èã„ãŸã‚‰ï¼Ÿ",
                options: [
                    { text: "è‡ªåˆ†ã®ã“ã¨ã¿ãŸã„ã«å–œã‚“ã˜ã‚ƒã†ï¼", type: "rosy" },
                    { text: "ã€Œã‚ˆããŒã‚“ã°ã£ãŸã­ã€ã£ã¦æ°—æŒã¡ã‚’å—ã‘æ­¢ã‚ã‚‹", type: "espie" },
                    { text: "æ¬¡ã¯ã©ã‚“ãªç›®æ¨™ã‹æ¥½ã—ã¿ã«ãªã‚‹", type: "levy" }
                ]
            },
            {
                q: "æ°—æŒã¡ãŒã¡ã‚‡ã£ã¨ã™ã‚Œé•ã£ã¡ã‚ƒã£ãŸâ€¦",
                options: [
                    { text: "ã¾ãšã¯ã€Œã©ã†ã—ãŸã®ï¼Ÿã€ã£ã¦èã„ã¦ã¿ã‚‹", type: "finn" },
                    { text: "è‡ªåˆ†ã®æ°—æŒã¡ã‚’ã€ãã£ã¨æ‰“ã¡æ˜ã‘ã‚‹", type: "lillilu" },
                    { text: "å°‘ã—æ™‚é–“ã‚’ãŠã„ã¦ã€ç›¸æ‰‹ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’å¾…ã¤", type: "gigi" }
                ]
            },
            {
                q: "è‡ªåˆ†ãŒã—ã‚“ã©ã„æ™‚ã®ãŠå®ˆã‚Šã¯ï¼Ÿ",
                options: [
                    { text: "èª°ã‹ã¨ç¬‘ã£ã¦ã€æ°—æŒã¡ã‚’è»½ãã™ã‚‹", type: "rosy" },
                    { text: "é™ã‹ã«ã²ã¨ã‚Šã§ã€å¿ƒã‚’æ•´ãˆã‚‹", type: "gigi" },
                    { text: "å‰ã‚’å‘ã„ã¦è‡ªåˆ†ã‚’åŠ±ã¾ã™", type: "bonbon" }
                ]
            },
            {
                q: "è‡ªåˆ†ã®ãŒã‚“ã°ã‚Šæ–¹ã«ã¤ã„ã¦ã€ã„ã¡ã°ã‚“è¿‘ã„ã®ã¯ï¼Ÿ",
                options: [
                    { text: "ç›®ç«‹ãŸãªãã¦ã‚‚ã„ã„ã€‚ã‚³ãƒ„ã‚³ãƒ„ç©ã¿é‡ã­ã‚‹", type: "bonbon" },
                    { text: "ã“ã“ãã®æ™‚ã«é›†ä¸­ã—ã¦ã€ãã£ã¨åŠ›ã‚’å‡ºã™", type: "levy" },
                    { text: "ã€Œã‚ã‚ŠãŒã¨ã†ã€ãŒã‚ã‚‹ã¨ã€ã‚‚ã£ã¨ãŒã‚“ã°ã‚Œã¡ã‚ƒã†", type: "lillilu" }
                ]
            },
            {
                q: "ä¼‘æ—¥ã®æœã¯ã©ã†å§‹ã‚ã‚‹ã®ãŒç†æƒ³çš„ï¼Ÿ",
                options: [
                    { text: "ãŠæ°—ã«å…¥ã‚Šã®ã‚³ãƒ¼ãƒ’ãƒ¼ã‚„ç´…èŒ¶ã§ãƒ›ãƒƒã¨ä¸€æ¯", type: "levy" },
                    { text: "æ¯›å¸ƒã«ãã‚‹ã¾ã£ã¦ã€ã¬ãã¬ã", type: "espie" },
                    { text: "ãŠã§ã‹ã‘ã®æº–å‚™ï¼Letâ€™s goï¼", type: "lillilu" }
                ]
            },
            {
                q: "å†’é™ºã«ã§ã‚‹ãªã‚‰ï¼Ÿ",
                options: [
                    { text: "ã¾ãšã¯ãƒ«ãƒ¼ãƒˆã‚’è€ƒãˆã¦ã€ã—ã£ã‹ã‚Šè¨ˆç”»ã¥ãã‚Š", type: "levy" },
                    { text: "æ€ã„ç«‹ã£ãŸã‚‰ã€ã™ãé£›ã³å‡ºã™ï¼", type: "finn" },
                    { text: "æº–å‚™ã—ã¦ã€ä½“èª¿ã‚‚æ•´ãˆã‚‹", type: "espie" }
                ]
            },
            {
                q: "ã¿ã‚“ãªã§ã„ã‚‹ã¨ãã®ã‚ãªãŸã¯ï¼Ÿ",
                options: [
                    { text: "ã¿ã‚“ãªãŒè©±ã—ã‚„ã™ããªã‚‹é›°å›²æ°—ã¥ãã‚Š", type: "finn" },
                    { text: "å°‘äººæ•°ã§ã€ã‚†ã£ãã‚Šã²ã¨ã‚Šã²ã¨ã‚Šã®è©±ã‚’èã", type: "espie" },
                    { text: "å…¨ä½“ã‚’è¦‹ãªãŒã‚‰ã€ãã£ã¨ãƒ•ã‚©ãƒ­ãƒ¼ã«ã¾ã‚ã‚‹", type: "gigi" }
                ]
            },
            {
                q: "è¿·å­ã‚’è¦‹ã¤ã‘ãŸã‚‰ï¼Ÿ",
                options: [
                    { text: "ã€Œå¤§ä¸ˆå¤«ã ã‚ˆã€ã£ã¦éš£ã§ä¸€ç·’ã«ã„ã¦ã‚ã’ã‚‹", type: "lillilu" },
                    { text: "ã¾ãšã¯ä¸€ç·’ã«æ¢ã—ã¦ã¿ã‚‹ï¼", type: "bonbon" },
                    { text: "å°‘ã—é›¢ã‚ŒãŸå ´æ‰€ã‹ã‚‰ã€ãã£ã¨è¦‹å®ˆã‚‹", type: "gigi" }
                ]
            },
            {
                q: "ã‚µãƒ—ãƒ©ã‚¤ã‚ºã§ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆï¼ä½•ã‚’ã‚ã’ã‚‹ï¼Ÿ",
                options: [
                    { text: "è‡ªåˆ†ãŒå¥½ããªã‚‚ã®ã‚’ã€Œä¸€ç·’ã«æ¥½ã—ã‚“ã§ã»ã—ã„ã€", type: "finn" },
                    { text: "æ°—æŒã¡ã‚’ã“ã‚ãŸæ‰‹ä½œã‚Šã®ã‚‚ã®", type: "bonbon" },
                    { text: "ãã®äººãŒãšã£ã¨æ¬²ã—ãŒã£ã¦ãŸã‚‚ã®ã‚’é¸ã¶", type: "rosy" }
                ]
            },
            {
                q: "ä¹—ã‚Šç‰©ã¯ä½•ãŒã™ãï¼Ÿ",
                options: [
                    { text: "ã‚¸ã‚§ãƒƒãƒˆã‚³ãƒ¼ã‚¹ã‚¿ãƒ¼ï¼ ã‚¹ãƒªãƒ«ã‚’æ¥½ã—ã¿ãŸã„", type: "gigi" },
                    { text: "ãƒ¡ãƒªãƒ¼ã‚´ãƒ¼ãƒ©ãƒ³ãƒ‰â™ª ã‚†ã£ãã‚Šç¬‘é¡”ã§ãã‚‹ãã‚‹", type: "rosy" },
                    { text: "è¦³è¦§è»Šã€€ãã‚‰ã‚ãæ™¯è‰²ã‚’ãªãŒã‚ã‚‹æ™‚é–“ãŒå¥½ã", type: "levy" }
                ]
            },
            {
                q: "ä»Šæ—¥ã¯1æ—¥æ¥½ã—ã‹ã£ãŸï¼ã©ã‚“ãªæ°—åˆ†ï¼Ÿ",
                options: [
                    { text: "ã‚‚ã†ã€æ¬¡ã®ãƒ¯ã‚¯ãƒ¯ã‚¯ãŒæ¥½ã—ã¿", type: "finn" },
                    { text: "å†™çœŸã‚’è¦‹ã¦ã€ä½™éŸ»ã«ã²ãŸã‚‹", type: "gigi" },
                    { text: "çµ‚ã‚ã£ã¡ã‚ƒã£ãŸï½ã€‚ã¡ã‚‡ã£ã´ã‚Šåˆ‡ãªã„", type: "lillilu" }
                ]
            }
        ];

        // çŠ¶æ…‹ç®¡ç†
        let currentQuestions = [];
        let currentIndex = 0;
        let scores = {};

        // é…åˆ—ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã™ã‚‹é–¢æ•°
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ
        function startQuiz() {
            // ã‚¹ã‚³ã‚¢åˆæœŸåŒ–
            Object.keys(characters).forEach(key => scores[key] = 0);
            
            // 12å•ã‹ã‚‰7å•ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸å‡º (è¶…ãƒ»é«˜ç²¾åº¦ãƒ«ãƒ¼ãƒˆåˆ†å²ã‚·ã‚¹ãƒ†ãƒ ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³)
            // æ¯å›é•ã†è³ªå•æ§‹æˆã«ã™ã‚‹ã“ã¨ã§ç²¾åº¦æ„Ÿã‚’æ¼”å‡º
            const shuffledPool = shuffle([...questionPool]);
            currentQuestions = shuffledPool.slice(0, 7);
            
            currentIndex = 0;
            
            // ç”»é¢åˆ‡ã‚Šæ›¿ãˆ
            showScreen('quiz-screen');
            loadQuestion();
        }

        // ç”»é¢è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆé–¢æ•°
        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        // è³ªå•èª­ã¿è¾¼ã¿
        function loadQuestion() {
            const q = currentQuestions[currentIndex];
            document.getElementById('question-text').innerText = `Q${currentIndex + 1}. ${q.q}`;
            document.getElementById('current-q-num').innerText = currentIndex + 1;
            
            // è³ªå•ç”»åƒã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆç”»åƒã‚’è³ªå•ã”ã¨ã«å¤‰ãˆãŸã„å ´åˆã¯ã“ã“ã§srcã‚’è¨­å®šï¼‰
            const qImg = document.getElementById('question-image');
            qImg.style.display = 'block'; // ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’éš ã™ãŸã‚
            qImg.parentElement.querySelector('img').style.display = 'none'; // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãŒèµ°ã£ãŸå ´åˆã®ãŸã‚
            qImg.src = `question_${currentIndex+1}.png`; // ä»®ã®ç”»åƒãƒ‘ã‚¹

            const answersArea = document.getElementById('answers-area');
            answersArea.innerHTML = '';

            q.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'btn';
                btn.innerText = opt.text;
                btn.onclick = () => answer(opt.type);
                answersArea.appendChild(btn);
            });
        }

        // å›ç­”å‡¦ç†
        function answer(type) {
            if (scores[type] !== undefined) {
                scores[type]++;
            }
            
            currentIndex++;
            if (currentIndex < currentQuestions.length) {
                loadQuestion();
            } else {
                showLoading();
            }
        }

        // åˆ†æç”»é¢è¡¨ç¤º
        function showLoading() {
            showScreen('loading-screen');
            setTimeout(showResult, 2500); // 2.5ç§’å¾Œã«çµæœè¡¨ç¤º
        }

        // çµæœè¡¨ç¤ºå‡¦ç†
        function showResult() {
            // æœ€é«˜å¾—ç‚¹ã®ã‚­ãƒ£ãƒ©ã‚’ç‰¹å®š
            let maxScore = -1;
            let resultCharKey = '';
            
            // åŒç‚¹ã®å ´åˆã¯ãƒ©ãƒ³ãƒ€ãƒ ã€ã‚ã‚‹ã„ã¯å®šç¾©é †ã§æœ€åˆã®ã‚‚ã®
            Object.keys(scores).forEach(key => {
                if (scores[key] > maxScore) {
                    maxScore = scores[key];
                    resultCharKey = key;
                }
            });

            const char = characters[resultCharKey];

            // ãƒ‡ãƒ¼ã‚¿ã®åŸ‹ã‚è¾¼ã¿
            document.getElementById('result-image').src = `${char.id}.png`;
            document.getElementById('result-image').style.display = 'block'; // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒªã‚»ãƒƒãƒˆç”¨
            document.getElementById('result-catchphrase').innerText = char.catchphrase.split('\n')[0]; // æ”¹è¡ŒãŒã‚ã‚Œã°æœ€åˆã®è¡Œãªã©
            document.getElementById('result-name').innerText = char.name;
            document.getElementById('result-charm-text').innerText = char.charm;
            document.getElementById('result-desc').innerText = char.desc;
            document.getElementById('result-advice').innerText = char.advice;

            // ã‚¹ãƒ†ã‚­ãªã¨ã“ã‚ãƒªã‚¹ãƒˆç”Ÿæˆ
            const pointsList = document.getElementById('result-points');
            pointsList.innerHTML = '';
            char.points.forEach(p => {
                const li = document.createElement('li');
                li.innerText = p;
                pointsList.appendChild(li);
            });

            // å††ã‚°ãƒ©ãƒ•ç”Ÿæˆ (conic-gradient)
            // ã‚¹ã‚³ã‚¢ã«åŸºã¥ã„ã¦æ¯”ç‡ã‚’å‡ºã™ãŒã€çµæœã‚­ãƒ£ãƒ©ã‚’ç›®ç«‹ãŸã›ã‚‹ï¼ˆå…‰ã‚‰ã›ã‚‹ï¼‰
            // å…¨ä½“ã®åˆè¨ˆç‚¹ã‚’è¨ˆç®—
            let totalScore = 0;
            Object.keys(scores).forEach(k => totalScore += scores[k]);
            
            // 7è‰²ã®é †åºå®šç¾©
            const colorOrder = ['lillilu', 'rosy', 'finn', 'bonbon', 'espie', 'levy', 'gigi'];
            
            let gradientStr = '';
            let currentDeg = 0;

            // ã‚‚ã—å…¨å•æ­£è§£ãªã©ã§ä»–ãŒ0ç‚¹ã®å ´åˆã€ã‚°ãƒ©ãƒ•ãŒ1è‰²ã«ãªã‚‹ã®ã‚’é˜²ããŸã‚ã€æœ€ä½å€¤ã‚’1ã¨ã—ã¦è¨ˆç®—ã—ç›´ã™ï¼ˆè¦‹ãŸç›®ã®ãŸã‚ï¼‰
            // ä»Šå›ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«å®Ÿéš›ã®ã‚¹ã‚³ã‚¢æ¯”ç‡ã§æç”»ã—ã€å‹è€…ã‚’å°‘ã—å¤§ããè¦‹ã›ã‚‹ç­‰ã®å·¥å¤«ã¯CSSã®ã‚·ãƒ£ãƒ‰ã‚¦ã§è¡Œã†
            
            // ã‚¹ã‚³ã‚¢ãŒ0ã®å ´åˆã§ã‚‚å°‘ã—è‰²ãŒè¦‹ãˆã‚‹ã‚ˆã†ã«è£œæ­£ï¼ˆBase: 1ç‚¹ï¼‰
            let adjustedTotal = 0;
            const adjustedScores = {};
            colorOrder.forEach(key => {
                let val = scores[key] || 0;
                if(key === resultCharKey) val += 2; // å‹è€…ã‚’å¼·èª¿ã™ã‚‹ãŸã‚ã«ãƒœãƒ¼ãƒŠã‚¹åŠ ç®—
                val += 1; // 0ç‚¹å›é¿
                adjustedScores[key] = val;
                adjustedTotal += val;
            });

            colorOrder.forEach((key, index) => {
                const ratio = adjustedScores[key] / adjustedTotal;
                const deg = ratio * 360;
                const color = characters[key].color;
                
                gradientStr += `${color} ${currentDeg}deg ${currentDeg + deg}deg`;
                if (index < colorOrder.length - 1) gradientStr += ', ';
                
                currentDeg += deg;
            });

            const chartPie = document.getElementById('chart-pie');
            chartPie.style.background = `conic-gradient(${gradientStr})`;
            
            // å‹è€…ã®è‰²ã§å…‰ã‚‰ã›ã‚‹
            chartPie.style.boxShadow = `0 0 20px 5px ${char.color}`;

            // ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã®ãƒªãƒ³ã‚¯ç”Ÿæˆ
            const shareText = encodeURIComponent(`ç§ã®éš ã‚ŒãŸé­…åŠ›ã¯...ã€Œ${char.charm}ã€ã§ã—ãŸï¼\nã‚­ãƒ£ãƒ©ã‚¿ã‚¤ãƒ—ï¼š${char.name}\n\n#ãƒªãƒ«ãƒªãƒ«ã¨ä»²é–“ãŸã¡ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨ºæ–­`);
            const shareUrl = encodeURIComponent(window.location.href);

            document.getElementById('share-line').href = `https://social-plugins.line.me/lineit/share?url=${shareUrl}&text=${shareText}`;
            // Instagramã¯ç›´æ¥ã‚·ã‚§ã‚¢URLãŒãªã„ãŸã‚ã€ã‚¢ãƒ—ãƒªã‚’é–‹ããªã©ã®æŒ™å‹•ã«ãªã‚Šã¾ã™ãŒã€ã“ã“ã§ã¯ä¸€èˆ¬çš„ãªURLã¨ã—ã¦ãŠãã¾ã™
            document.getElementById('share-insta').href = `https://www.instagram.com/`; 
            document.getElementById('share-threads').href = `https://www.threads.net/intent/post?text=${shareText}&url=${shareUrl}`;

            showScreen('result-screen');
        }
    </script>
</body>
</html>
